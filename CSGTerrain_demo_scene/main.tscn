[gd_scene load_steps=54 format=3 uid="uid://chkqxcvavjgdb"]

[ext_resource type="Shader" path="res://addons/csg_terrain/csg_terrain_shader.gdshader" id="1_wbcsn"]
[ext_resource type="Script" path="res://addons/csg_terrain/csg_terrain.gd" id="2_58mqj"]
[ext_resource type="Script" path="res://addons/csg_terrain/csg_terrain_path.gd" id="3_0dgdk"]

[sub_resource type="Gradient" id="Gradient_m28ac"]
offsets = PackedFloat32Array(0.209459, 1)
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_yksvv"]
seed = 7

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_un4dl"]
seamless = true
color_ramp = SubResource("Gradient_m28ac")
noise = SubResource("FastNoiseLite_yksvv")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_kqtnn"]
sky_top_color = Color(0.2911, 0.465642, 0.71, 1)
sky_cover = SubResource("NoiseTexture2D_un4dl")
sky_cover_modulate = Color(0.72, 0.72, 0.72, 1)
ground_bottom_color = Color(0.1705, 0.2356, 0.31, 1)
sun_angle_max = 15.0
energy_multiplier = 1.5

[sub_resource type="Sky" id="Sky_h35h7"]
sky_material = SubResource("ProceduralSkyMaterial_kqtnn")

[sub_resource type="Environment" id="Environment_ra7ix"]
background_mode = 2
sky = SubResource("Sky_h35h7")

[sub_resource type="ArrayMesh" id="ArrayMesh_yhwus"]

[sub_resource type="Gradient" id="Gradient_yw5qy"]
interpolation_mode = 2
colors = PackedColorArray(0.341176, 0.701961, 0.415686, 1, 0.447059, 0.309804, 0.290196, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_keaay"]
noise_type = 0
frequency = 0.02
fractal_gain = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hbuv8"]
seamless = true
color_ramp = SubResource("Gradient_yw5qy")
noise = SubResource("FastNoiseLite_keaay")

[sub_resource type="Gradient" id="Gradient_ackyp"]
offsets = PackedFloat32Array(0.450292, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ne65t"]
seamless = true
as_normal_map = true
bump_strength = 4.0
color_ramp = SubResource("Gradient_ackyp")
noise = SubResource("FastNoiseLite_keaay")

[sub_resource type="Gradient" id="Gradient_iemce"]
offsets = PackedFloat32Array(0.497076, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_djgq6"]
seamless = true
color_ramp = SubResource("Gradient_iemce")
noise = SubResource("FastNoiseLite_keaay")

[sub_resource type="Gradient" id="Gradient_w7o46"]
offsets = PackedFloat32Array(0.00986842, 1)
colors = PackedColorArray(0.39, 0.31538, 0.2808, 1, 0.57, 0.46398, 0.3648, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_7fr1y"]
frequency = 0.05

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hm7fw"]
seamless = true
color_ramp = SubResource("Gradient_w7o46")
noise = SubResource("FastNoiseLite_7fr1y")

[sub_resource type="Gradient" id="Gradient_27rhl"]
offsets = PackedFloat32Array(0.00986842, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_kfijj"]
seamless = true
as_normal_map = true
bump_strength = 2.0
color_ramp = SubResource("Gradient_27rhl")
noise = SubResource("FastNoiseLite_7fr1y")

[sub_resource type="Gradient" id="Gradient_418gy"]
offsets = PackedFloat32Array(0, 0.542763)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ykkun"]
seamless = true
color_ramp = SubResource("Gradient_418gy")
noise = SubResource("FastNoiseLite_7fr1y")

[sub_resource type="Gradient" id="Gradient_55ulp"]
interpolation_mode = 2
colors = PackedColorArray(0.29, 0.279608, 0.2755, 1, 0.13, 0.123478, 0.1209, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hlhu0"]
noise_type = 2
frequency = 0.05
fractal_octaves = 4
cellular_return_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_087oy"]
seamless = true
color_ramp = SubResource("Gradient_55ulp")
noise = SubResource("FastNoiseLite_hlhu0")

[sub_resource type="Gradient" id="Gradient_c8e4w"]
offsets = PackedFloat32Array(0.263158, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_h01li"]
seamless = true
as_normal_map = true
color_ramp = SubResource("Gradient_c8e4w")
noise = SubResource("FastNoiseLite_hlhu0")

[sub_resource type="Gradient" id="Gradient_h1pj8"]
interpolation_mode = 2
offsets = PackedFloat32Array(0, 0.403509)
colors = PackedColorArray(0.13, 0.123478, 0.1209, 1, 1, 1, 1, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_38agk"]
seamless = true
color_ramp = SubResource("Gradient_h1pj8")
noise = SubResource("FastNoiseLite_hlhu0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sjpm0"]
render_priority = 0
shader = ExtResource("1_wbcsn")
shader_parameter/wall_underlay = 4.0
shader_parameter/ground_scale = Vector2(0.02, 0.02)
shader_parameter/ground_color = Color(1, 1, 1, 1)
shader_parameter/ground_normal_strenght = 1.0
shader_parameter/ground_roughness = 1.0
shader_parameter/ground_albedo = SubResource("NoiseTexture2D_hbuv8")
shader_parameter/ground_normal_map = SubResource("NoiseTexture2D_ne65t")
shader_parameter/ground_rough_map = SubResource("NoiseTexture2D_djgq6")
shader_parameter/wall_scale = Vector2(0.01, 0.01)
shader_parameter/wall_color = Color(1, 1, 1, 1)
shader_parameter/wall_normal_strenght = 1.1
shader_parameter/wall_roughness = 1.0
shader_parameter/wall_albedo = SubResource("NoiseTexture2D_087oy")
shader_parameter/wall_normal_map = SubResource("NoiseTexture2D_h01li")
shader_parameter/wall_rough_map = SubResource("NoiseTexture2D_38agk")
shader_parameter/path_scale = Vector2(0.2, 0.2)
shader_parameter/path_color = Color(1, 1, 1, 1)
shader_parameter/path_normal_strenght = 1.0
shader_parameter/path_roughness = 1.0
shader_parameter/path_albedo = SubResource("NoiseTexture2D_hm7fw")
shader_parameter/path_normal_map = SubResource("NoiseTexture2D_kfijj")
shader_parameter/path_rough_map = SubResource("NoiseTexture2D_ykkun")

[sub_resource type="Curve3D" id="Curve3D_hq5qw"]
bake_interval = 8.0
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, -15.5843, 0, 27.2537, 15.5843, 0, -27.2537, 78.803, 5, -129.248, -5.69968, 0, 14.8391, 5.69968, 0, -14.8391, 121.577, 10, -192.895, 0, 0, 0, 0, 0, 0, 132.957, 10, -237.04, 0, 0, 0, 0, 0, 0, 133.026, 10, -342.573, 15.1272, 0, 12.2181, -15.1272, 0, -12.2181, 112.969, 10, -379.946, 16.951, 0, 24.6631, -16.951, 0, -24.6631, 59.602, 5, -426.553, 0, 0, 0, 0, 0, 0, 18.5627, 0, -547),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="Curve3D" id="Curve3D_ufdbj"]
bake_interval = 8.0
_data = {
"points": PackedVector3Array(6.67796, 0, 7.61834, 0, 0, 0, 0, 49.653, 0, -34.5573, 3.07465, 0, 34.5573, -3.07465, 0, 108.234, 85.3083, 1.17407, 0, 0, 0, 0, 0, 0, 179.635, 63.8275, 1.71837),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_4s0qm"]
bake_interval = 8.0
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 14.137, 0, -21.5173, -0.0854492, 0.847855, 21.5173, 0.0854492, -0.847855, 48.1878, 31.441, -0.882141, 0, 0, 0, 0, 0, 0, 118.903, -13.3769, -0.515106),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_ehi2r"]
bake_interval = 8.0
_data = {
"points": PackedVector3Array(-12.4126, 4.662, 0.68927, 12.4126, -4.662, -0.68927, 13.7352, 63.9476, -1.55478, -16.2406, -0.23962, 1.59213, 16.2406, 0.23962, -1.59213, 77.1087, 45.679, -6.66739, -16.5401, -5.61719, 1.05896, 16.5401, 5.61719, -1.05896, 167.937, 62.6753, -9.17871),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Gradient" id="Gradient_okuyo"]
offsets = PackedFloat32Array(0.871508, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_blpie"]
noise_type = 2
fractal_type = 0
cellular_jitter = 0.0
cellular_return_type = 6

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_e63pu"]
width = 500
seamless = true
color_ramp = SubResource("Gradient_okuyo")
noise = SubResource("FastNoiseLite_blpie")

[sub_resource type="Gradient" id="Gradient_n5rw1"]
offsets = PackedFloat32Array(0, 0.0782123, 0.24581, 1)
colors = PackedColorArray(0, 0, 0, 0, 0.0138376, 0.0207563, 0.0276751, 0.0988397, 0.0759789, 0.113968, 0.151958, 0.748767, 0.1, 0.15, 0.2, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hryi1"]
noise_type = 5
frequency = 0.4118

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_4y0lg"]
seamless = true
color_ramp = SubResource("Gradient_n5rw1")
noise = SubResource("FastNoiseLite_hryi1")

[sub_resource type="Gradient" id="Gradient_0xhwl"]
colors = PackedColorArray(0.98, 0.98, 0.98, 1, 0.1, 0.15, 0.2, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_bubxc"]
seamless = true
as_normal_map = true
bump_strength = 2.0
color_ramp = SubResource("Gradient_0xhwl")
noise = SubResource("FastNoiseLite_hryi1")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qnilt"]
width = 500
seamless = true
as_normal_map = true
bump_strength = 16.0
color_ramp = SubResource("Gradient_okuyo")
noise = SubResource("FastNoiseLite_blpie")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5q2gm"]
albedo_texture = SubResource("NoiseTexture2D_e63pu")
normal_enabled = true
normal_texture = SubResource("NoiseTexture2D_qnilt")
detail_enabled = true
detail_mask = SubResource("NoiseTexture2D_e63pu")
detail_blend_mode = 3
detail_albedo = SubResource("NoiseTexture2D_4y0lg")
detail_normal = SubResource("NoiseTexture2D_bubxc")
uv1_scale = Vector3(0.123, 0.123, 0.123)
uv1_triplanar = true
texture_filter = 5

[sub_resource type="Gradient" id="Gradient_8f22c"]
offsets = PackedFloat32Array(0, 0.0113636, 0.596591, 0.914773, 1)
colors = PackedColorArray(0.25, 0.246875, 0.2375, 1, 0.21, 0.20755, 0.1995, 1, 0.352985, 0.348726, 0.335006, 1, 0.502772, 0.496864, 0.476824, 1, 0.678431, 0.670588, 0.643137, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_t50q4"]
frequency = 0.0359

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_t5jya"]
width = 1024
height = 1024
color_ramp = SubResource("Gradient_8f22c")
noise = SubResource("FastNoiseLite_t50q4")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_e10b2"]
width = 1024
height = 1024
as_normal_map = true
bump_strength = 16.0
color_ramp = SubResource("Gradient_8f22c")
noise = SubResource("FastNoiseLite_t50q4")

[sub_resource type="Gradient" id="Gradient_6w1s3"]
offsets = PackedFloat32Array(0.52514, 1)
colors = PackedColorArray(1, 0.9875, 0.95, 1, 0, 0, 0, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hmp31"]
width = 1024
height = 1024
color_ramp = SubResource("Gradient_6w1s3")
noise = SubResource("FastNoiseLite_t50q4")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7uhec"]
albedo_texture = SubResource("NoiseTexture2D_t5jya")
roughness_texture = SubResource("NoiseTexture2D_hmp31")
normal_enabled = true
normal_texture = SubResource("NoiseTexture2D_e10b2")
uv1_scale = Vector3(8, 8, 8)
texture_filter = 5

[node name="Main" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ra7ix")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.875465, 0.483282, 0, -0.483283, -0.875464, 0, 0, 0)
shadow_enabled = true
directional_shadow_max_distance = 300.0

[node name="CSGTerrain0" type="CSGMesh3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -256)
mesh = SubResource("ArrayMesh_yhwus")
material = SubResource("ShaderMaterial_sjpm0")
script = ExtResource("2_58mqj")

[node name="RoadPath" type="Path3D" parent="CSGTerrain0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -119.878, 0, 268.582)
curve = SubResource("Curve3D_hq5qw")
script = ExtResource("3_0dgdk")

[node name="Hill1" type="Path3D" parent="CSGTerrain0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -230.886, -0.0156784, -20.5899)
curve = SubResource("Curve3D_ufdbj")
script = ExtResource("3_0dgdk")
width = 8
path_texture = true

[node name="Hill3" type="Path3D" parent="CSGTerrain0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 102.964, 48.559, -26.7328)
curve = SubResource("Curve3D_4s0qm")
script = ExtResource("3_0dgdk")
width = 6
path_texture = true

[node name="Hill2" type="Path3D" parent="CSGTerrain0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -65.3608, -0.0156784, -17.4359)
curve = SubResource("Curve3D_ehi2r")
script = ExtResource("3_0dgdk")
path_texture = true

[node name="TunnelHole" type="CSGCylinder3D" parent="CSGTerrain0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 13.1212, 10.9277, -23.0239)
operation = 2
radius = 6.0
height = 70.0
sides = 6
material = SubResource("StandardMaterial3D_5q2gm")

[node name="BottomCut" type="CSGBox3D" parent="CSGTerrain0/TunnelHole"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5.08541)
operation = 2
size = Vector3(12, 71, 7)
material = SubResource("StandardMaterial3D_5q2gm")

[node name="Tunnel" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 13.121, 10.928, -279.024)
use_collision = true
radius = 6.0
height = 70.0
sides = 16
material = SubResource("StandardMaterial3D_5q2gm")

[node name="TunnelCut" type="CSGCylinder3D" parent="Tunnel"]
operation = 2
radius = 5.0
height = 71.0
sides = 16
material = SubResource("StandardMaterial3D_5q2gm")

[node name="BottomCut" type="CSGBox3D" parent="Tunnel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5.08541)
operation = 2
size = Vector3(12, 71, 7)
material = SubResource("StandardMaterial3D_5q2gm")

[node name="RoadPolygon" type="CSGPolygon3D" parent="."]
use_collision = true
polygon = PackedVector2Array(-5, -1, -5, 1, 5, 1, 5, -1)
mode = 2
path_node = NodePath("../CSGTerrain0/RoadPath")
path_interval_type = 0
path_interval = 5.0
path_simplify_angle = 1.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 70.0
path_joined = false
material = SubResource("StandardMaterial3D_7uhec")
